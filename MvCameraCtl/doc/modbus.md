线圈和寄存器 概念
存储单元，理解应该是相对于外部设备来说。
比如我需要通过串口通信获取温湿度传感器数据时
寄存器地址：根据你的传感器文档，确定寄存器 0 保存温度，寄存器 1 保存湿度。（温度数据不是bool值外部传感器会存储在寄存器而不是线圈）

比如我需要通过串口通信获取控制开关数据时
线圈地址：根据控制开关文档，确定哪个线圈保存开关数据（是bool值所以用线圈存储单元）

（三）怎样找到某个寄存器地址？
找到某个寄存器地址的方法主要是通过查阅相关的数据手册。

找到对应设备的硬件手册或数据手册，这些手册通常会提供寄存器的地址信息。
在手册中寻找与所需寄存器相关的章节或表格，这些章节或表格通常会以寄存器的名称或功能作为关键字进行标记。
在相关章节或表格中，可以查找寄存器的地址，通常会以十六进制或二进制的形式表示。
确定寄存器的地址后，可以在程序中使用该地址进行读写操作。


modbus 主站和从站
主站通常是一个计算机或PLC
从站通常是各种外部设备，比如温控器，各种开关

一、bit（比特）
计算机内存储和处理信息的最小单位是位（bit,或比特），一个比特值可以是0或1，不能再分割
1bit = 一个二进制位
01011110 = 表示一个8位的字（比特）表示8位的二进制数

十六进制由0-9，A-F组成，0xAB 表示2个十六进制数

二、byte（字节）
通常8个二进制位为一个字节（byte）
因此，1个16进制数对应4个二进制数位，2个16进制数位对应8个二进制数位，及1个字节。
二进制数字10101011可以用十六进制表示为0xAB

功能码	名称				操作数据类型	作用描述										PLC地址
01H	读线圈寄存器		位（bit）		获得一组开关线圈的当前状态（ON/OFF )			00001-09999
02H	读离散输入寄存器	位（bit）		获得一组开关线圈的当前状态（ON/OFF )			10001-19999
03H	读保持寄存器		字（byte）		在一个或多个保持寄存器中取得当前的二进制值		30001-39999
04H	读输入寄存器		字（byte）		在一个或多个输入寄存器中取得当前的二进制值		40001-49999
05H	写单个线圈寄存器	位（bit）		设置一个单独的线圈状态（ON/OFF )				00001-09999
06H	写单个保持寄存器	字（byte）		写单个保持寄存器，将两个字节写入到寄存器			40001-49999
0FH		写多个线圈寄存器	位（bit）		写多个线圈寄存器，可以设置多个bit开关状态		00001-09999
10H	写多个保持寄存器	字（byte）		写多个保持寄存器，将多个字节写入到寄存器			40001-49999

主站询问报文格式：从站地址+功能码+起始地址（高位）+起始地址（低位）+线圈数量（高位）+线圈数量（低位）+CRC
从站应答报文格式：从站地址+功能码+字节计数+线圈状态（根据实际确定数量）+CRC校验

读单个线圈报文：
其中主站的请求报文为：01 01 00 00 00 0A BC 0D
01从站地址 
01功能码
00 00是起始位，即从地址0开始读取；
00 0A是读取数量，换算为10进制为10，即读取10个地址；
BC 0D为CRC16校验码，由前面六个字节计算得出。

从站的响应报文为：01 01 02 02 00 B8 9C

02，是数据区的长度，即读取了两个字节数据
02 00 读取的数据转换为二进制0010 0000 0000 0000

写多个线圈报文：
 写入的报文为：01 0F 00 00 00 05 01 1D AF 5F。
其中01是站地址，0F是功能码，00 00是起始地址，00 05表示写入5个线圈，01是后面的数据的字节数，1D就是数据位，最后的AF 5F为CRC16校验码。




使用modbus主从仿真需要使用虚拟串口软件