##机械手坐标系（实际物理坐标系）
XYZR，就是横向，纵向，垂直，旋转四个轴，这四个轴的移动。
机械手在出厂时都有一个默认的工具坐标系Tool 0：位置在法兰中心。

##工具坐标系
是以工具中心点作为零点，与法兰中心有固定偏差
TCP（Tool Central Point，中文叫做工具中心点）

##相机坐标系（图像像素坐标系）

##九点标定（标定工具坐标系）
特征点类似交点，圆心等等
###九宫格标定板
1、获取图像中9个圆的圆心的像素位置，存储起来，点的存储顺序是Z字形。
2、在机械手上加装针尖，用针尖按Z字形顺序依次去戳每个圆的圆心，并以此记录每个机械手的坐标。
该种方法标定效果误差较大，因为针尖去戳圆心的过程是肉圆观察得到的，结果并不是很准确的。

###机械手吸取物料标定
机械手带动物料按照右图方式依次运动，获取9个点的机械手坐标和像素坐标。（机械手抓取物料位置不用关注，因为九点标定只是为了计算像素坐标和机械坐标的映射关系）

将相机坐标系映射到机械坐标系，这样像素坐标就可以转换为机械坐标，将像素的偏移数据转换为机械坐标的偏移 引导机械补偿偏移。

##十二点标定
12点标定就比9点标定多了一个3点旋转标定

##旋转中心标定


对于有旋转轴的设备，此机械坐标一般表示的是末端法兰盘中心（轴旋转中心）的坐标
标定类型：需根据吸嘴与旋转中心是否共轴选择；共轴选择平移标定，不共轴选择平移旋转标定；

##引导定位流程：
###示教
#### mark特征点
一般示教流程；
现场的示教流程一般是丛后往前示教。物料先放到放料位置放好，机械手过去将料吸起来，然后移动到取料位置 将物料放下，记住此时的示教位置为(TeachPos_X,TeachPos_Y).机械手移开，相机拍照，拍照后，计算模板的特征点和角度，记下来(Mode_X,Mode_Y) 角度Mode_Phi。
在抓取场景中，需要输入两个像素点，分别是基准点和运行点。

就是物料的旋转是绕着法兰盘中心旋转，计算也是绕着法兰盘中心坐标旋转计算。我们应该明确一个点，就是所有的旋转必须得绕这个法兰盘来进行。

*著名的绕点旋转公式
*在平面坐标上，任意点P(x1,y1)，绕一个坐标点Q(x2,y2)旋转θ角度后,新的坐标设为(x, y)的计算公式：
*x= (x1 – x2)*cos(θ) – (y1 – y2)*sin(θ) + x2 ;
*y= (x1 – x2)*sin(θ) + (y1 – y2)*cos(θ) + y2 ;
旋转计算非常重要的一点是绕哪个点旋转，如果旋转的旋转点不正确，那么计算结果会差很多。对我引动定位可以认为旋转轴的中心坐标就是旋转参考点
对于此例，就是法兰盘中心坐标。

旋转中心计算（法兰盘中心计算）
抓取物体后通过法兰中心在相机视野转动3个角度点位（三点拟圆）


旋转中心偏差
旋转标定使用的值是机械手末端相机拍摄的值和机械手轴中心存在偏差


###抓取点位
最小外接矩形中心